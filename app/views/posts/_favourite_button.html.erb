<%
  post_user_ids = []

  post.users_who_favourited.each do |user|
    post_user_ids << user.id
  end
%>

<%= turbo_frame_tag dom_id(post) do %>
  <% favourite_image = post_user_ids.include?(current_user&.id) ? "Icons/Favourite.svg" : "Icons/NotFavourite.svg" %>
  <%= link_to toggle_favourite_post_path(post), class: "A_Button Grey", data: { turbo_stream: true } do %>
    <%= image_tag favourite_image %>
  <% end %>
<% end %>